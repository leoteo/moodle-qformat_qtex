\documentclass[a4paper,10pt]{ltxdoc}
\usepackage[english]{babel}
\usepackage{amsmath,amsthm,amsfonts,amssymb}
\usepackage{parskip, fancyhdr}
\usepackage{graphicx}

% Layout
\setlength{\parindent}{0pt}
\pagestyle{fancy}
\fancyhf{}
\fancyhead{
\begin{tabular}[b]{l}
{\bf Question\TeX-Documentation}
\end{tabular} \hfill
%\includegraphics[height=1.5\baselineskip]{lemurenlogo}
}
\fancyfoot[CO]{\thepage} % Seitenzahl immer unten Mitte


\title{QuestionTeX}
\author{Project LEMUREN\\ETH Zurich\\|lemuren@math.ethz.ch|}

% In diesem Format steht |\befehl| f√ºr \verb|\befehl|

\include{macros_nemesis}

\begin{document}
\reversemarginpar

\maketitle
\tableofcontents
\newpage

\section{Introduction}
Question\TeX\ is a collection of \LaTeX\ macros that enables authors to
write multiple-choice tests.
The \LaTeX\  sources can be processed in order to
\begin{itemize}
  \item create a high quality printer's copy with standardized
  layout
  \item create a standard solution, including additional feedback
  \item create an interactive classroom assessment test (CAT)
  \item import the questions into the Moodle Learming Management System 
  \item \ldots your idea here!
\end{itemize}

A basic question is entered as

\begin{verbatim}
\question{The square root of two is \ldots}
  \false{a rational number.}
    \feedback{Try to represent it as a quotient of integers!}
  \true{a real number.}
  \false{an imaginary number.}
\end{verbatim}

and is typeset by \LaTeX\ to produce
\question{The square root of two is \ldots}
  \false{a rational number.}
    \feedback{Try representing it as a quotient of integers!}
  \true{a real number.}
  \false{an imaginary number.}

If you want to get an overview about the available commands and what they
do, the fastest way is having a look at the template file that comes with
this package. A more detailed command specification can be found in section
\ref{seccommand} of this document.

\section{Deployment mechanisms}

\subsection{Creation of a printer's copy}
Simply use the \LaTeX\ source to create a document of whatever type you like,
respectively what your \LaTeX\ distribution allows you to. Typically, this will
be a |.pdf| file or a |.dvi| file.

\subsection{Creation of a solution}
By default the solution, including your feedback
will appear in the printer's copy. If you do not want this
you can add |\hidesolution| (detailed information in section \ref{seccommand}).

\subsection{Creation of an interactive online-test}
This feature is not fully automated yet, but a user friendly upload mechanism
with graphical user interface is coming up soon.\\ At the moment, you can send
us an email with your source and preferred grading rules and we will set up the
test on our system.

\subsection{Import of questions into Moodle}
This package contains a Moodle plug-in (with installation instructions), which
adds the \emph{QuestionTeX} format as an import/export format for  multiple
choice questions. After the installation you will be able to upload the
\emph{QuestionTeX} sources directly to Moodle. In case your sources include
image files, you may just create a zip archive with all the relevant
files and upload the zip instead.\\
However, since Moodle does not have a built-in \LaTeX\ distribution, certain
restrictions must be obeyed in order to ensure proper display of your questions
in Moodle (detailed information in section \ref{secrestr}).




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Command reference}\label{seccommand}
All commands are sorted alphabetically.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Writing questions}
This is a selection of the available commands for writing questions. In
order to see some examples for questions, have a look at the template file that
comes with this package.

%% \DescribeMacro{\aref} Whenever you refer to an answer at the \emph{ith}
%% position in the order of answers of a question, you should do so by typing
%% |\aref{i}|. This ensures that the semantics stay intact even in a context,
%% where the answers are shuffled.\\
%% If you want to forbid shuffling for a specific question, use |\fixorder|.

%% \DescribeMacro{\case} Creates a row for a matrix question. Matrix questions
%% and regular questions should not be mixed.\\
%% |\case{Some case} \true{answer a} \false{answer b}|

\DescribeMacro{\explanation} May be used to outline an approach to the 
solution. If present, this command will normally be placed at the very end of
a question. When the questions are deployed in a static context, the
visibility of the explanation may be controlled by |\hidesolution|.

\DescribeMacro{\false} Contains a wrong answer.\\
|\false{Some wrong answer.}|

%% \DescribeMacro{\false*} Can be used in matrix questions, where the answer
%% \emph{text} does not change with the cases. Signals a wrong answer, whose
%% corresponding answer text is copied automatically from above (same column).

\DescribeMacro{\feedback} If you want to give a feedback to a specific answer,
you may do so by using the feedback-command \emph{after the
answer}.\\ This is especially useful, when the questions are deployed
in an interactive context, since the feedback to a student will then
depend on his or her answers. In a static context the display of feedbacks can
be controlled by |\hidesolution|.

%% \DescribeMacro{\fixorder} Forbids that the answers to this
%% question are shuffled. This command is only relevant, if the question is
%% deployed in an interactive context.

%% \DescribeMacro{\html} Takes the filename of an HTML resource that can not be
%% processed by \LaTeX\ , but will be embedded in an interactive context
%% (e.g. applets). The optional parameter can be used to define a placeholder that
%% appears in a context, where HTML is not available.\\
%% |\html[Placeholder for applet]{applet.html}|

%% \DescribeMacro{\includegraphics} Should be used to include images. \LaTeX\
%% compilation supports the |eps| format, while Pdf\LaTeX\ supports |png|, |jpg|,
%% |tiff| and  |pdf|.\\
%% Images may be included everywhere, where ordinary text can appear, i.e. they
%% may be part an answer, a feedback or the like:\\
%% |\feedback{Correct! \includegraphics[height=1cm]{smiley.png}}|

%% \DescribeMacro{\meta} Used to supply meta information on the current
%% question, e.g. author(s), topic(s), etc. The syntax is:\\
%% |\meta{field: data1,data2,\ldots;}|, e.g.\\
%% |\meta{author: Alexander Caspar, Heinz Rasched;}|

\DescribeMacro{\intro} Inserts arbitrary text that is not an argument to another
command into the quiz.

\DescribeMacro{\keepme} Same as |\intro|.

\DescribeMacro{\question} Holds the question text for a question with
possibly multiple correct answers.
An identifier of the
question may be supplied via the optional parameter. The identifier must
consist only of letters of the English alphabet and the underscore \_ :\\
|\question[Identifier_1]{Now, ain't that easy?}|

\DescribeMacro{\questionSc}
Holds the question text for a question with a single correct answer.
An identifier of the
question may be supplied via the optional parameter. The identifier must
consist only of letters of the English alphabet and the underscore \_ :\\
|\questionSc[Identifier_1]{Now, ain't that easy?}|

%% \DescribeMacro{\remark} Holds a side remark that may, for example, refer to
%% upcoming or previous questions. This command terminates the previous
%% question.\\ \emph{Warning:} If you shuffle the order of \emph{questions} in an
%% interactive context, remarks will be shuffled as well, since they are treated
%% as an independent question.

\DescribeMacro{\true} Contains a true answer. A question may have multiple
true answers.\\
|\true{My true answer}|

%% \DescribeMacro{\true*} Can be used in matrix questions, where the answer
%% \emph{text} does not change with the cases. Signals a true answer, whose
%% corresponding answer text is copied automatically from above (same column).


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Setting global properties}
The following commands define global properties of the quiz. They should
appear \emph{before} the first question.

\DescribeMacro{\hidesolution} This can be used to hide all the solution meta
data of the questions, i.\,e., only the question and the answers are shown.

%% \DescribeMacro{\quiztitle} Define the quiz title: |\quiztitle{My Quiz}|

%% \DescribeMacro{\showexplanation} Unhides explanations
%% (invisible by default).

%% \DescribeMacro{\showfeedback} Unhides feedbacks (invisible by
%% default).

%% \DescribeMacro{\showsolution} This is the combination of |\showtruefalse|,
%% |\showexplanation|, |\showfeedback| and as such turns your quiz into a
%% solution with all available information.

%% \DescribeMacro{\showtruefalse} Makes visible, which answers are true and
%%  which are false (by default all answers are formatted the same way).


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Appendix}

%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Restrictions for Moodle import}\label{secrestr}
As of today (2014), there are two main display mechanisms in Moodle
\begin{enumerate}
  \item The browser processes HTML. It does not understand \LaTeX\ at all.
  \item Plug-ins like mimeTeX, MathJax or JsMath process
    formulae that are enclosed by
  certain delimiters and convert them into graphics. They do understand
  appreciable parts of \LaTeX\, but not everything.
\end{enumerate}

Since plain text and images are processed directly by the browser, while
formulae are processed by the plug-in, different rules apply.

\subsubsection{Plain text}
Everything that is not part of any type of equation environment (like
|$\ldots$|, 'eqnarray`, etc.), is treated as plain text.
\emph{Only} the \LaTeX\ commands that are present in the following list, may
be used here. The ones in the list are either translated into their respective
HTML entities or simply discarded (i.e. deleted).

\begin{itemize}
    \item \emph{Translated} are:
        \begin{itemize}
            \item |\\|, |~|
            \item |\emph{...}|, |\textit{...}|, |\textbf{...}|,
            |\underline{...}|, |\(...\)|
            \item |\begin{center}...\end{center}|
            \item |\{|, |\}|, |\textbackslash|
            \item umlaute
        \end{itemize}
     \item \emph{Discarded} are:
        \begin{itemize}
            \item |\vskip|, |\,|
        \end{itemize}
\end{itemize}

These lists may be extended on demand. Just send us an email with your request
for modification.

\subsubsection{Images}
Moodle allows for the types |png|, |jpg|, |gif|, i.e. |eps| and |pdf| may not
be used.

\subsubsection{Formulae}
This refers to symbols that are enclosed by an equation environment  (like
|$\ldots$|, 'eqnarray`, etc.). The restrictions depend on the plug-in that is
being used to display formulae. Below, you find the result from our experience
with mimeTeX.

\begin{itemize}
  \item The definition of new macros is only allowed, if they do not take
  parameters (we do not replace \#1 and the like).  Also, this feature is still
  in beta stage.
  \item Don't use references.
  \item Don't use |\makebox|
\end{itemize}

\subsubsection{Grading}
Since there is no possibility to specify grading rules during import into
Moodle, we had to define a standard here:\\
For each question, the full $100\%$ are distributed equally among its true
answers. False answers have fraction $0$.

\end{document}
